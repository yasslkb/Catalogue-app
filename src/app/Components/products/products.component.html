<nav class="navbar navbar-expand-sm bg-light navbar-light">
    <ul class="nav justify-content-center">
        <li class="nav-item">
            <button class="btn btn-info ml-2" (click)="onGetAllProduits()">All</button>
        </li>
        <li class="nav-item">
            <button class="btn btn-info ml-2" (click)="onGetSelectedProduits()">Selected</button>
        </li>
        <li class="nav-item">
            <button class="btn btn-info ml-2" (click)="onGetAvailableProduits()">Available</button>
        </li>
    </ul>

    <ul class="navbar navbar-nav ml-auto">
        <li>
            <form #f="ngForm" (ngSubmit)="onSearche(f.value)">
                <div class="form-group">
                    <input type="text" ngModel name="motCle" class="form-control">
                    <button class="btn btn-outline-info">
                        <span class="fa fa-search"></span>
                    </button>                
                </div>    
            </form>
        </li>
    </ul>
    
</nav>
  

<!--       these is one methode 
<div class="container">
    <table class="table">
        <tr>
            <th>Id</th><th>name</th><th>prix</th><th>quantity</th><th>selected</th><th>available</th>
        </tr>
        <tr *ngFor="let p of produits">
            <td>{{p.id}}</td>
            <td>{{p.name}}</td>
            <td>{{p.prix}}</td>
            <td>{{p.quantity}}</td>
            <td>{{p.selected}}</td>
            <td>{{p.available}}</td>
        </tr>
    </table>

</div>
-->
<!-- 
    the async subscribes to a obsevable or promise and emites the last value and When the component gets destroyed, the async pipe unsubscribes automatically to avoid potential memory leaks
-->
<div class="container">
<ng-container *ngIf="produits$ | async as result" [ngSwitch]="result.datastate">
    <ng-container *ngSwitchCase="DataStateEnum.LOADING">
        Loading ...............
    </ng-container>
    <ng-container *ngSwitchCase="DataStateEnum.ERROR">
       <div class="alerrt-danger"> {{result.errormessage}}
        </div>
    </ng-container>
    <ng-container *ngSwitchCase="DataStateEnum.LOADED">
        <table class="table">
            <tr>
                <th>Id</th><th>name</th><th>prix</th><th>quantity</th><th>selected</th><th>available</th>
            </tr>            
            <tr *ngFor="let p of result.data ">
                <td>{{p.id}}</td>
                <td>{{p.name}}</td>
                <td>{{p.prix}}</td>
                <td>{{p.quantity}}</td>
                <td>{{p.selected}}</td>
                <td>{{p.available}}</td>
            </tr>
    
        </table>
    </ng-container>

</ng-container>
</div>



